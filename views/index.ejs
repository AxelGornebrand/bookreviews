<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Books</title>
    <link rel="stylesheet" href="./styles/main.css">
</head>



<body>
<div>
    <h1>BOOKS</h1>
    <button onclick="window.location.href='/new';">NEW</button>

    <h2>ORDER BY:</h2>
    <form action="/" method="get">
        <button type="submit" name="sort" value="title">TITLE</button>
        <button type="submit" name="sort" value="newest">NEWEST</button>
        <button type="submit" name="sort" value="rating">BEST</button>
    </form>
    
</div>
<div>
    <ul>
        <% books.forEach(book => { %>
            <li>
                <img src="<%= book.coverUrl %>" alt="<%= book.title %> cover image">
                <h4><%= book.title %> by <%= book.author %></h4>
                <h6>Date: <%= book.date %></h6>
                <h6>Rating: <%= book.rating %>/10</h6>
                <p><%= book.review %></p>
                <button onclick="location.href='/edit/<%= book.id %>'">EDIT</button>
                <form action="/delete/<%= book.id %>" method="post" style="display: inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this book?');">DELETE</button>
                </form>
            </li>
        <% }); %>
    </ul>
</div>


    
</body>
</html>